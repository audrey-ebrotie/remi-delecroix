{% extends 'base.html.twig' %}

{% block preloader %}{% endblock preloader %}

{% block title %}Accès sécurisé
{% endblock %}

{% block body %}
	<div class="container security-question-container">
		<h1 class="mb-5">Accès sécurisé</h1>
		<form method="GET" action="{{ path('user_login') }}" class="needs-validation" novalidate>
			<div class="mb-3">
				<label for="reponse" class="form-label">{{ question }}</label>
				<input type="hidden" name="question" value="{{ question }}"/>
				<input type="text" class="form-control" id="reponse" name="reponse" required>
				<div class="invalid-feedback">
					Veuillez renseigner le code d'accès.
				</div>
			</div>

			{% if app.session.get('security_error') %}
				<div class="alert alert-danger" role="alert">
					{{ app.session.get('security_error') }}
				</div>
				{% set foo = app.session.remove('security_error') %}
			{% endif %}

			<button type="submit" class="btn btn-primary">Soumettre</button>
		</form>
	</div>
{% endblock %}
